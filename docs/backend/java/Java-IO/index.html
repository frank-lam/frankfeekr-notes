<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-backend/java/Java-IO">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Java IO | æŠ€æœ¯å°åŒ Â·ç¬”è®°</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://notes.frankfeekr.cn/docs/backend/java/Java-IO"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Java IO | æŠ€æœ¯å°åŒ Â·ç¬”è®°"><meta data-rh="true" name="description" content="Java çš„ I/O å¤§æ¦‚å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ç±»ï¼š"><meta data-rh="true" property="og:description" content="Java çš„ I/O å¤§æ¦‚å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ç±»ï¼š"><link data-rh="true" rel="icon" href="/img/Landscape.svg"><link data-rh="true" rel="canonical" href="https://notes.frankfeekr.cn/docs/backend/java/Java-IO"><link data-rh="true" rel="alternate" href="https://notes.frankfeekr.cn/docs/backend/java/Java-IO" hreflang="en"><link data-rh="true" rel="alternate" href="https://notes.frankfeekr.cn/docs/backend/java/Java-IO" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="æŠ€æœ¯å°åŒ Â·ç¬”è®° RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="æŠ€æœ¯å°åŒ Â·ç¬”è®° Atom Feed"><link rel="stylesheet" href="/assets/css/styles.69ae1ae1.css">
<link rel="preload" href="/assets/js/runtime~main.e2aeedd7.js" as="script">
<link rel="preload" href="/assets/js/main.12dfe6bc.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/idea.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/idea.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">æŠ€æœ¯å°åŒ Â·ç¬”è®°</b></a><a class="navbar__item navbar__link" href="/docs/introduction/readme">å‰è¨€</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">åå°æ¶æ„</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/backend/java/JavaåŸºç¡€">Java åŸºç¡€çŸ¥è¯†</a></li><li><a class="dropdown__link" href="/docs/backend/intro">æ€»è§ˆ</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">å‰ç«¯æŠ€æœ¯</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/frontend/es6/é¡¹ç›®å‡†å¤‡/å‰è¨€">ECMAScript2015~2020è¯­æ³•å…¨è§£æ</a></li><li><a class="dropdown__link" href="/docs/frontend/angular/">Angualr</a></li><li><a class="dropdown__link" href="/docs/category/ecmascript20152020è¯­æ³•å…¨è§£æ">æ€»è§ˆ</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/tools/Visual Studio Code">æŠ€æœ¯å·¥å…·</a><a class="navbar__item navbar__link" href="/docs/about/readme">å…³äºæœ¬ç«™</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">å¸¸ç”¨å·¥å…·</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/search">ğŸ” æœ¬ç«™æœç´¢</a></li><li><a href="https://www.emojiall.com/zh-hans/all-emojis" target="_blank" rel="noopener noreferrer" class="dropdown__link">ğŸ˜„ EMOJIALL<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://tools.frankfeekr.cn/" target="_blank" rel="noopener noreferrer" class="dropdown__link">ğŸ§­ LinTools - å¼€å‘è€…çš„åœ¨çº¿å¯¼èˆª<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://frankfeekr.cn/" target="_blank" rel="noopener noreferrer" class="dropdown__link">ğŸ‘¨â€ğŸ’» frankfeekr.cn - æˆ‘çš„åšå®¢<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Links</a><ul class="dropdown__menu"><li><a href="https://github.com/frank-lam/frankfeekr-notes/actions" target="_blank" rel="noopener noreferrer" class="dropdown__link">âš¡ï¸frankfeekr-notes/actions<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/frank-lam/frankfeekr-notes/issues" target="_blank" rel="noopener noreferrer" class="dropdown__link">frankfeekr-notes/issues<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/frank-lam/todolist/issues/10" target="_blank" rel="noopener noreferrer" class="dropdown__link">todolist/issues/10<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/frank-lam/todolist/issues" target="_blank" rel="noopener noreferrer" class="dropdown__link">todolist/issues<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/frank-lam/fullstack-tutorial" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/idea.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/idea.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"><b>æŠ€æœ¯å°åŒ Â·ç¬”è®°</b></a><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/backend/java/JavaåŸºç¡€">Java åŸºç¡€çŸ¥è¯†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/backend/java/Javaé›†åˆæ¡†æ¶">Java é›†åˆæ¡†æ¶</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/backend/java/Javaå¹¶å‘ç¼–ç¨‹">Java å¹¶å‘ç¼–ç¨‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/backend/java/Java-IO">Java IO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/backend/java/Javaè™šæ‹Ÿæœº">Java è™šæ‹Ÿæœº</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/backend/java/Javaè®¾è®¡æ¨¡å¼">Java è®¾è®¡æ¨¡å¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/backend/java/JavaWeb">Java Web</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/backend/java/ç³»ç»Ÿæ¶æ„">ç³»ç»Ÿæ¶æ„</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/backend/java/Overview">Overview</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Java IO</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Java IO</h1><p>Java çš„ I/O å¤§æ¦‚å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ç±»ï¼š</p><ul><li>ç£ç›˜æ“ä½œï¼šFile</li><li>å­—èŠ‚æ“ä½œï¼šInputStream å’Œ OutputStream</li><li>å­—ç¬¦æ“ä½œï¼šReader å’Œ Writer</li><li>å¯¹è±¡æ“ä½œï¼šSerializable</li><li>ç½‘ç»œæ“ä½œï¼šSocket</li><li>æ–°çš„è¾“å…¥/è¾“å‡ºï¼šNIO</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1ç£ç›˜æ“ä½œfile">1ã€ç£ç›˜æ“ä½œï¼ˆFileï¼‰<a class="hash-link" href="#1ç£ç›˜æ“ä½œfile" title="Direct link to heading">â€‹</a></h3><p>File ç±»å¯ä»¥ç”¨äºè¡¨ç¤ºæ–‡ä»¶å’Œç›®å½•çš„ä¿¡æ¯ï¼Œä½†æ˜¯å®ƒä¸è¡¨ç¤ºæ–‡ä»¶çš„å†…å®¹ã€‚</p><p>é€’å½’åœ°è¾“å‡ºä¸€ä¸ªç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼š</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">listAllFiles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">File</span><span class="token plain"> dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dir </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">null</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">||</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain">dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">exists</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">isFile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">System</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">println</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">File</span><span class="token plain"> file </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">listFiles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">listAllFiles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2å­—èŠ‚æ“ä½œstream">2ã€å­—èŠ‚æ“ä½œï¼ˆ*Streamï¼‰<a class="hash-link" href="#2å­—èŠ‚æ“ä½œstream" title="Direct link to heading">â€‹</a></h3><p>ä½¿ç”¨å­—èŠ‚æµæ“ä½œè¿›è¡Œæ–‡ä»¶å¤åˆ¶ï¼š</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">copyFile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> src</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> dist</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">IOException</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">FileInputStream</span><span class="token plain"> in </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">FileInputStream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">src</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">FileOutputStream</span><span class="token plain"> out </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">FileOutputStream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dist</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">byte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> buffer </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">byte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1024</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// read() æœ€å¤šè¯»å– buffer.length ä¸ªå­—èŠ‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// è¿”å›çš„æ˜¯å®é™…è¯»å–çš„ä¸ªæ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// è¿”å› -1 çš„æ—¶å€™è¡¨ç¤ºè¯»åˆ° eofï¼Œå³æ–‡ä»¶å°¾</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">in</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">read</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> buffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">write</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    in</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">close</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">close</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div align="center"> <img loading="lazy" src="assets/DP-Decorator-java.io.png" width="600" class="img_ev3q"> </div><br><p>Java I/O ä½¿ç”¨äº†<strong>è£…é¥°è€…æ¨¡å¼</strong>æ¥å®ç°ã€‚ä»¥ InputStream ä¸ºä¾‹ï¼ŒInputStream æ˜¯æŠ½è±¡ç»„ä»¶ï¼ŒFileInputStream æ˜¯ InputStream çš„å­ç±»ï¼Œå±äºå…·ä½“ç»„ä»¶ï¼Œæä¾›äº†å­—èŠ‚æµçš„è¾“å…¥æ“ä½œã€‚FilterInputStream å±äºæŠ½è±¡è£…é¥°è€…ï¼Œè£…é¥°è€…ç”¨äºè£…é¥°ç»„ä»¶ï¼Œä¸ºç»„ä»¶æä¾›é¢å¤–çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ BufferedInputStream ä¸º FileInputStream æä¾›ç¼“å­˜çš„åŠŸèƒ½ã€‚</p><p>å®ä¾‹åŒ–ä¸€ä¸ªå…·æœ‰ç¼“å­˜åŠŸèƒ½çš„å­—èŠ‚æµå¯¹è±¡æ—¶ï¼Œåªéœ€è¦åœ¨ FileInputStream å¯¹è±¡ä¸Šå†å¥—ä¸€å±‚ BufferedInputStream å¯¹è±¡å³å¯ã€‚</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token class-name" style="color:rgb(255, 203, 107)">FileInputStream</span><span class="token plain"> fileInputStream </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">FileInputStream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">filePath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">BufferedInputStream</span><span class="token plain"> bufferedInputStream </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">BufferedInputStream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">fileInputStream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>DataInputStream è£…é¥°è€…æä¾›äº†å¯¹æ›´å¤šæ•°æ®ç±»å‹è¿›è¡Œè¾“å…¥çš„æ“ä½œï¼Œæ¯”å¦‚ intã€double ç­‰åŸºæœ¬ç±»å‹ã€‚</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3å­—ç¬¦æ“ä½œreader--writer">3ã€å­—ç¬¦æ“ä½œï¼ˆ<em>Reader | </em>Writerï¼‰<a class="hash-link" href="#3å­—ç¬¦æ“ä½œreader--writer" title="Direct link to heading">â€‹</a></h3><p>ä¸ç®¡æ˜¯ç£ç›˜è¿˜æ˜¯ç½‘ç»œä¼ è¾“ï¼Œæœ€å°çš„å­˜å‚¨å•å…ƒéƒ½æ˜¯å­—èŠ‚ï¼Œè€Œä¸æ˜¯å­—ç¬¦ã€‚<strong>ä½†æ˜¯åœ¨ç¨‹åºä¸­æ“ä½œçš„é€šå¸¸æ˜¯å­—ç¬¦å½¢å¼çš„æ•°æ®ï¼Œå› æ­¤éœ€è¦æä¾›å¯¹å­—ç¬¦è¿›è¡Œæ“ä½œçš„æ–¹æ³•ã€‚</strong></p><ul><li>InputStreamReader å®ç°ä»<strong>å­—èŠ‚æµ</strong>è§£ç æˆ<strong>å­—ç¬¦æµ</strong>ï¼›</li><li>OutputStreamWriter å®ç°<strong>å­—ç¬¦æµ</strong>ç¼–ç æˆä¸º<strong>å­—èŠ‚æµ</strong>ã€‚</li></ul><p>é€è¡Œè¾“å‡ºæ–‡æœ¬æ–‡ä»¶çš„å†…å®¹ï¼š</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">readFileContent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> filePath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">IOException</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">FileReader</span><span class="token plain"> fileReader </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">FileReader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">filePath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">BufferedReader</span><span class="token plain"> bufferedReader </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">BufferedReader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">fileReader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> line</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">line </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> bufferedReader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">readLine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">System</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">println</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">line</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// è£…é¥°è€…æ¨¡å¼ä½¿å¾— BufferedReader ç»„åˆäº†ä¸€ä¸ª Reader å¯¹è±¡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// åœ¨è°ƒç”¨ BufferedReader çš„ close() æ–¹æ³•æ—¶ä¼šå»è°ƒç”¨ fileReader çš„ close() æ–¹æ³•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// å› æ­¤åªè¦ä¸€ä¸ª close() è°ƒç”¨å³å¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    bufferedReader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">close</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>ç¼–ç </strong>å°±æ˜¯æŠŠå­—ç¬¦è½¬æ¢ä¸ºå­—èŠ‚ï¼Œè€Œ<strong>è§£ç </strong>æ˜¯æŠŠå­—èŠ‚é‡æ–°ç»„åˆæˆå­—ç¬¦ã€‚</p><p>å¦‚æœç¼–ç å’Œè§£ç è¿‡ç¨‹ä½¿ç”¨ä¸åŒçš„ç¼–ç æ–¹å¼é‚£ä¹ˆå°±å‡ºç°äº†ä¹±ç ã€‚</p><ul><li>GBK ç¼–ç ä¸­ï¼Œä¸­æ–‡å­—ç¬¦å  2 ä¸ªå­—èŠ‚ï¼Œè‹±æ–‡å­—ç¬¦å  1 ä¸ªå­—èŠ‚ï¼›</li><li>UTF-8 ç¼–ç ä¸­ï¼Œä¸­æ–‡å­—ç¬¦å  3 ä¸ªå­—èŠ‚ï¼Œè‹±æ–‡å­—ç¬¦å  1 ä¸ªå­—èŠ‚ï¼›</li><li>UTF-16be ç¼–ç ä¸­ï¼Œä¸­æ–‡å­—ç¬¦å’Œè‹±æ–‡å­—ç¬¦éƒ½å  2 ä¸ªå­—èŠ‚ã€‚</li></ul><p>UTF-16be ä¸­çš„ be æŒ‡çš„æ˜¯ Big Endianï¼Œä¹Ÿå°±æ˜¯å¤§ç«¯ã€‚ç›¸åº”åœ°ä¹Ÿæœ‰ UTF-16leï¼Œle æŒ‡çš„æ˜¯ Little Endianï¼Œä¹Ÿå°±æ˜¯å°ç«¯ã€‚</p><p>Java ä½¿ç”¨åŒå­—èŠ‚ç¼–ç  UTF-16beï¼Œè¿™ä¸æ˜¯æŒ‡ Java åªæ”¯æŒè¿™ä¸€ç§ç¼–ç æ–¹å¼ï¼Œè€Œæ˜¯è¯´ char è¿™ç§ç±»å‹ä½¿ç”¨ UTF-16be è¿›è¡Œç¼–ç ã€‚char ç±»å‹å  16 ä½ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªå­—èŠ‚ï¼ŒJava ä½¿ç”¨è¿™ç§åŒå­—èŠ‚ç¼–ç æ˜¯ä¸ºäº†è®©ä¸€ä¸ªä¸­æ–‡æˆ–è€…ä¸€ä¸ªè‹±æ–‡éƒ½èƒ½ä½¿ç”¨ä¸€ä¸ª char æ¥å­˜å‚¨ã€‚</p><p>String å¯ä»¥çœ‹æˆä¸€ä¸ªå­—ç¬¦åºåˆ—ï¼Œå¯ä»¥æŒ‡å®šä¸€ä¸ªç¼–ç æ–¹å¼å°†å®ƒè½¬æ¢ä¸ºå­—èŠ‚åºåˆ—ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªç¼–ç æ–¹å¼å°†ä¸€ä¸ªå­—èŠ‚åºåˆ—è½¬æ¢ä¸º Stringã€‚</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> str1 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ä¸­æ–‡&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">byte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> bytes </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> str1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getBytes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;UTF-8&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> str2 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">bytes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;UTF-8&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">System</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">println</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">str2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨è°ƒç”¨æ— å‚æ•° getBytes() æ–¹æ³•æ—¶ï¼Œé»˜è®¤çš„ç¼–ç æ–¹å¼ä¸æ˜¯ UTF-16beã€‚åŒå­—èŠ‚ç¼–ç çš„å¥½å¤„æ˜¯å¯ä»¥ä½¿ç”¨ä¸€ä¸ª char å­˜å‚¨ä¸­æ–‡å’Œè‹±æ–‡ï¼Œè€Œå°† String è½¬ä¸º bytes[] å­—èŠ‚æ•°ç»„å°±ä¸å†éœ€è¦è¿™ä¸ªå¥½å¤„ï¼Œå› æ­¤ä¹Ÿå°±ä¸å†éœ€è¦åŒå­—èŠ‚ç¼–ç ã€‚getBytes() çš„é»˜è®¤ç¼–ç æ–¹å¼ä¸å¹³å°æœ‰å…³ï¼Œä¸€èˆ¬ä¸º UTF-8ã€‚</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">byte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> bytes </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> str1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getBytes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4javaåºåˆ—åŒ–å¦‚ä½•å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–å¸¸è§çš„åºåˆ—åŒ–åè®®æœ‰å“ªäº›">4ã€Javaåºåˆ—åŒ–ï¼Œå¦‚ä½•å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œå¸¸è§çš„åºåˆ—åŒ–åè®®æœ‰å“ªäº›ï¼Ÿ<a class="hash-link" href="#4javaåºåˆ—åŒ–å¦‚ä½•å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–å¸¸è§çš„åºåˆ—åŒ–åè®®æœ‰å“ªäº›" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="javaåºåˆ—åŒ–å®šä¹‰">Javaåºåˆ—åŒ–å®šä¹‰<a class="hash-link" href="#javaåºåˆ—åŒ–å®šä¹‰" title="Direct link to heading">â€‹</a></h4><p>ï¼ˆ1ï¼‰Javaåºåˆ—åŒ–æ˜¯æŒ‡æŠŠJavaå¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—çš„è¿‡ç¨‹ï¼Œè€ŒJavaååºåˆ—åŒ–æ˜¯æŒ‡æŠŠå­—èŠ‚åºåˆ—æ¢å¤ä¸ºJavaå¯¹è±¡çš„è¿‡ç¨‹ï¼›</p><p>ï¼ˆ2ï¼‰<strong>åºåˆ—åŒ–</strong>ï¼šå¯¹è±¡åºåˆ—åŒ–çš„æœ€ä¸»è¦çš„ç”¨å¤„å°±æ˜¯åœ¨ä¼ é€’å’Œä¿å­˜å¯¹è±¡çš„æ—¶å€™ï¼Œä¿è¯å¯¹è±¡çš„å®Œæ•´æ€§å’Œå¯ä¼ é€’æ€§ã€‚åºåˆ—åŒ–æ˜¯æŠŠå¯¹è±¡è½¬æ¢æˆæœ‰åºå­—èŠ‚æµï¼Œä»¥ä¾¿åœ¨ç½‘ç»œä¸Šä¼ è¾“æˆ–è€…ä¿å­˜åœ¨æœ¬åœ°æ–‡ä»¶ä¸­ã€‚åºåˆ—åŒ–åçš„å­—èŠ‚æµä¿å­˜äº†Javaå¯¹è±¡çš„çŠ¶æ€ä»¥åŠç›¸å…³çš„æè¿°ä¿¡æ¯ã€‚åºåˆ—åŒ–æœºåˆ¶çš„æ ¸å¿ƒä½œç”¨å°±æ˜¯<strong>å¯¹è±¡çŠ¶æ€çš„ä¿å­˜ä¸é‡å»º</strong>ã€‚</p><p>ï¼ˆ3ï¼‰<strong>ååºåˆ—åŒ–</strong>ï¼šå®¢æˆ·ç«¯ä»æ–‡ä»¶ä¸­æˆ–ç½‘ç»œä¸Šè·å¾—åºåˆ—åŒ–åçš„å¯¹è±¡å­—èŠ‚æµåï¼Œæ ¹æ®å­—èŠ‚æµä¸­æ‰€ä¿å­˜çš„å¯¹è±¡çŠ¶æ€åŠæè¿°ä¿¡æ¯ï¼Œé€šè¿‡ååºåˆ—åŒ–é‡å»ºå¯¹è±¡ã€‚</p><p>ï¼ˆ4ï¼‰æœ¬è´¨ä¸Šè®²ï¼Œåºåˆ—åŒ–å°±æ˜¯æŠŠå®ä½“å¯¹è±¡çŠ¶æ€æŒ‰ç…§ä¸€å®šçš„æ ¼å¼å†™å…¥åˆ°æœ‰åºå­—èŠ‚æµï¼Œååºåˆ—åŒ–å°±æ˜¯ä»æœ‰åºå­—èŠ‚æµé‡å»ºå¯¹è±¡ï¼Œæ¢å¤å¯¹è±¡çŠ¶æ€ã€‚</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å¦‚ä½•å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–åº•å±‚æ€ä¹ˆå®ç°">å¦‚ä½•å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œåº•å±‚æ€ä¹ˆå®ç°<a class="hash-link" href="#å¦‚ä½•å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–åº•å±‚æ€ä¹ˆå®ç°" title="Direct link to heading">â€‹</a></h4><p><strong>1ã€JDKç±»åº“ä¸­åºåˆ—åŒ–å’Œååºåˆ—åŒ–API</strong></p><p>ï¼ˆ1ï¼‰java.io.ObjectOutputStreamï¼šè¡¨ç¤ºå¯¹è±¡è¾“å‡ºæµï¼›</p><p>å®ƒçš„writeObject(Object obj)æ–¹æ³•å¯ä»¥å¯¹å‚æ•°æŒ‡å®šçš„objå¯¹è±¡è¿›è¡Œåºåˆ—åŒ–ï¼ŒæŠŠå¾—åˆ°çš„å­—èŠ‚åºåˆ—å†™åˆ°ä¸€ä¸ªç›®æ ‡è¾“å‡ºæµä¸­ï¼›</p><p>ï¼ˆ2ï¼‰java.io.ObjectInputStreamï¼šè¡¨ç¤ºå¯¹è±¡è¾“å…¥æµï¼›</p><p>å®ƒçš„readObject()æ–¹æ³•æºè¾“å…¥æµä¸­è¯»å–å­—èŠ‚åºåˆ—ï¼Œå†æŠŠå®ƒä»¬ååºåˆ—åŒ–æˆä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶å°†å…¶è¿”å›ï¼›</p><p><strong>2ã€å®ç°åºåˆ—åŒ–çš„è¦æ±‚</strong></p><p>åªæœ‰å®ç°äº† Serializable æˆ– Externalizable æ¥å£çš„ç±»çš„å¯¹è±¡æ‰èƒ½è¢«åºåˆ—åŒ–ï¼Œå¦åˆ™æŠ›å‡ºå¼‚å¸¸ï¼</p><p><strong>3ã€å®ç°Javaå¯¹è±¡åºåˆ—åŒ–ä¸ååºåˆ—åŒ–çš„æ–¹æ³•</strong></p><p>ã€€ã€€å‡å®šä¸€ä¸ªUserç±»ï¼Œå®ƒçš„å¯¹è±¡éœ€è¦åºåˆ—åŒ–ï¼Œå¯ä»¥æœ‰å¦‚ä¸‹ä¸‰ç§æ–¹æ³•ï¼š</p><ul><li>è‹¥ User ç±»ä»…ä»…å®ç°äº† Serializable æ¥å£ï¼Œåˆ™å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–<ul><li>ObjectOutputStream é‡‡ç”¨é»˜è®¤çš„åºåˆ—åŒ–æ–¹å¼ï¼Œå¯¹ User å¯¹è±¡çš„é transient çš„å®ä¾‹å˜é‡è¿›è¡Œåºåˆ—åŒ–ã€‚</li><li>ObjcetInputStream é‡‡ç”¨é»˜è®¤çš„ååºåˆ—åŒ–æ–¹å¼ï¼Œå¯¹å¯¹ User å¯¹è±¡çš„é transient çš„å®ä¾‹å˜é‡è¿›è¡Œååºåˆ—åŒ–ã€‚</li></ul></li><li>è‹¥Userç±»ä»…ä»…å®ç°äº†Serializableæ¥å£ï¼Œå¹¶ä¸”è¿˜å®šä¹‰äº† <code>readObject(ObjectInputStream in)</code> å’Œ<code>writeObject(ObjectOutputSteam out)</code>ï¼Œåˆ™é‡‡ç”¨ä»¥ä¸‹æ–¹å¼è¿›è¡Œåºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚<ul><li>ObjectOutputStream è°ƒç”¨ User å¯¹è±¡çš„ writeObject(ObjectOutputStream out) çš„æ–¹æ³•è¿›è¡Œåºåˆ—åŒ–ã€‚ </li><li>ObjectInputStream ä¼šè°ƒç”¨ User å¯¹è±¡çš„ readObject(ObjectInputStream in) çš„æ–¹æ³•è¿›è¡Œååºåˆ—åŒ–ã€‚</li></ul></li><li>è‹¥Userç±»å®ç°äº† Externalnalizable æ¥å£ï¼Œä¸” User ç±»å¿…é¡»å®ç° <code>readExternal(ObjectInput in)</code> å’Œ <code>writeExternal(ObjectOutput out)</code> æ–¹æ³•ï¼Œåˆ™æŒ‰ç…§ä»¥ä¸‹æ–¹å¼è¿›è¡Œåºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚<ul><li>ObjectOutputStream è°ƒç”¨ User å¯¹è±¡çš„ writeExternal(ObjectOutput out)) çš„æ–¹æ³•è¿›è¡Œåºåˆ—åŒ–ã€‚ </li><li>ObjectInputStream ä¼šè°ƒç”¨Userå¯¹è±¡çš„ readExternal(ObjectInput in) çš„æ–¹æ³•è¿›è¡Œååºåˆ—åŒ–ã€‚</li></ul></li></ul><p><strong>4ã€JDKç±»åº“ä¸­åºåˆ—åŒ–çš„æ­¥éª¤</strong></p><p>æ­¥éª¤ä¸€ï¼šåˆ›å»ºä¸€ä¸ªå¯¹è±¡è¾“å‡ºæµï¼Œå®ƒå¯ä»¥åŒ…è£…ä¸€ä¸ªå…¶å®ƒç±»å‹çš„ç›®æ ‡è¾“å‡ºæµï¼Œå¦‚æ–‡ä»¶è¾“å‡ºæµï¼š</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token class-name" style="color:rgb(255, 203, 107)">ObjectOutputStream</span><span class="token plain"> oos </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ObjectOutputStream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">FileOutputStream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;D:\\object.out&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ­¥éª¤äºŒï¼šé€šè¿‡å¯¹è±¡è¾“å‡ºæµçš„writeObject()æ–¹æ³•å†™å¯¹è±¡ï¼š</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">oos</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">writeObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;xuliugen&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;123456&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;male&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>5ã€JDKç±»åº“ä¸­ååºåˆ—åŒ–çš„æ­¥éª¤</strong></p><p>æ­¥éª¤ä¸€ï¼šåˆ›å»ºä¸€ä¸ªå¯¹è±¡è¾“å…¥æµï¼Œå®ƒå¯ä»¥åŒ…è£…ä¸€ä¸ªå…¶å®ƒç±»å‹è¾“å…¥æµï¼Œå¦‚æ–‡ä»¶è¾“å…¥æµï¼š</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token class-name" style="color:rgb(255, 203, 107)">ObjectInputStream</span><span class="token plain"> ois</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ObjectInputStream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">FileInputStream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;object.out&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ­¥éª¤äºŒï¼šé€šè¿‡å¯¹è±¡è¾“å‡ºæµçš„readObject()æ–¹æ³•è¯»å–å¯¹è±¡ï¼š</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token class-name" style="color:rgb(255, 203, 107)">User</span><span class="token plain"> user </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> ois</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">readObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¯´æ˜ï¼šä¸ºäº†æ­£ç¡®è¯»å–æ•°æ®ï¼Œå®Œæˆååºåˆ—åŒ–ï¼Œå¿…é¡»ä¿è¯å‘å¯¹è±¡è¾“å‡ºæµå†™å¯¹è±¡çš„é¡ºåºä¸ä»å¯¹è±¡è¾“å…¥æµä¸­è¯»å¯¹è±¡çš„é¡ºåºä¸€è‡´ã€‚</p><p><strong>6ã€åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„ç¤ºä¾‹</strong></p><p>ä¸ºäº†æ›´å¥½åœ°ç†è§£Javaåºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼Œä¸¾ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">SerialDemo</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">IOException</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ClassNotFoundException</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//åºåˆ—åŒ–</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">FileOutputStream</span><span class="token plain"> fos </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">FileOutputStream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;object.out&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">ObjectOutputStream</span><span class="token plain"> oos </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ObjectOutputStream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">fos</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">User</span><span class="token plain"> user1 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;xuliugen&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;123456&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;male&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        oos</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">writeObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">user1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        oos</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">flush</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        oos</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">close</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//ååºåˆ—åŒ–</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">FileInputStream</span><span class="token plain"> fis </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">FileInputStream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;object.out&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">ObjectInputStream</span><span class="token plain"> ois </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ObjectInputStream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">fis</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">User</span><span class="token plain"> user2 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> ois</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">readObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">System</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">println</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">user2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getUserName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot; &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            user2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getPassword</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot; &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> user2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getSex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//ååºåˆ—åŒ–çš„è¾“å‡ºç»“æœä¸ºï¼šxuliugen 123456 male</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">User</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">implements</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Serializable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> userName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> sex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//å…¨å‚æ„é€ æ–¹æ³•ã€getå’Œsetæ–¹æ³•çœç•¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ç›¸å…³æ³¨æ„äº‹é¡¹">ç›¸å…³æ³¨æ„äº‹é¡¹<a class="hash-link" href="#ç›¸å…³æ³¨æ„äº‹é¡¹" title="Direct link to heading">â€‹</a></h4><p>1ã€åºåˆ—åŒ–æ—¶ï¼Œåªå¯¹å¯¹è±¡çš„çŠ¶æ€è¿›è¡Œä¿å­˜ï¼Œè€Œä¸ç®¡å¯¹è±¡çš„æ–¹æ³•ï¼›</p><p>2ã€å½“ä¸€ä¸ªçˆ¶ç±»å®ç°åºåˆ—åŒ–ï¼Œå­ç±»è‡ªåŠ¨å®ç°åºåˆ—åŒ–ï¼Œä¸éœ€è¦æ˜¾å¼å®ç° Serializable æ¥å£ï¼›</p><p>3ã€å½“ä¸€ä¸ªå¯¹è±¡çš„å®ä¾‹å˜é‡å¼•ç”¨å…¶ä»–å¯¹è±¡ï¼Œåºåˆ—åŒ–è¯¥å¯¹è±¡æ—¶ä¹ŸæŠŠå¼•ç”¨å¯¹è±¡è¿›è¡Œåºåˆ—åŒ–ï¼›</p><p>4ã€å¹¶éæ‰€æœ‰çš„å¯¹è±¡éƒ½å¯ä»¥åºåˆ—åŒ–ï¼Œè‡³äºä¸ºä»€ä¹ˆä¸å¯ä»¥ï¼Œæœ‰å¾ˆå¤šåŸå› äº†ï¼Œæ¯”å¦‚ï¼š</p><ul><li>å®‰å…¨æ–¹é¢çš„åŸå› ï¼Œæ¯”å¦‚ä¸€ä¸ªå¯¹è±¡æ‹¥æœ‰privateï¼Œpublicç­‰fieldï¼Œå¯¹äºä¸€ä¸ªè¦ä¼ è¾“çš„å¯¹è±¡ï¼Œæ¯”å¦‚å†™åˆ°æ–‡ä»¶ï¼Œæˆ–è€…è¿›è¡ŒRMIä¼ è¾“ç­‰ç­‰ï¼Œåœ¨åºåˆ—åŒ–è¿›è¡Œä¼ è¾“çš„è¿‡ç¨‹ä¸­ï¼Œè¿™ä¸ªå¯¹è±¡çš„privateç­‰åŸŸæ˜¯ä¸å—ä¿æŠ¤çš„ï¼›</li><li>èµ„æºåˆ†é…æ–¹é¢çš„åŸå› ï¼Œæ¯”å¦‚socketï¼Œthreadç±»ï¼Œå¦‚æœå¯ä»¥åºåˆ—åŒ–ï¼Œè¿›è¡Œä¼ è¾“æˆ–è€…ä¿å­˜ï¼Œä¹Ÿæ— æ³•å¯¹ä»–ä»¬è¿›è¡Œé‡æ–°çš„èµ„æºåˆ†é…ï¼Œè€Œä¸”ï¼Œä¹Ÿæ˜¯æ²¡æœ‰å¿…è¦è¿™æ ·å®ç°ï¼›</li></ul><p>5ã€å£°æ˜ä¸ºstaticå’Œtransientç±»å‹çš„æˆå‘˜æ•°æ®ä¸èƒ½è¢«åºåˆ—åŒ–ã€‚å› ä¸ºstaticä»£è¡¨ç±»çš„çŠ¶æ€ï¼Œtransientä»£è¡¨å¯¹è±¡çš„ä¸´æ—¶æ•°æ®ã€‚</p><p>6ã€åºåˆ—åŒ–è¿è¡Œæ—¶ä½¿ç”¨ä¸€ä¸ªç§°ä¸º serialVersionUID çš„ç‰ˆæœ¬å·ä¸æ¯ä¸ªå¯åºåˆ—åŒ–ç±»ç›¸å…³è”ï¼Œè¯¥åºåˆ—å·åœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­ç”¨äºéªŒè¯åºåˆ—åŒ–å¯¹è±¡çš„å‘é€è€…å’Œæ¥æ”¶è€…æ˜¯å¦ä¸ºè¯¥å¯¹è±¡åŠ è½½äº†ä¸åºåˆ—åŒ–å…¼å®¹çš„ç±»ã€‚ä¸ºå®ƒèµ‹äºˆæ˜ç¡®çš„å€¼ã€‚æ˜¾å¼åœ°å®šä¹‰serialVersionUIDæœ‰ä¸¤ç§ç”¨é€”ï¼š</p><ul><li>åœ¨æŸäº›åœºåˆï¼Œå¸Œæœ›ç±»çš„ä¸åŒç‰ˆæœ¬å¯¹åºåˆ—åŒ–å…¼å®¹ï¼Œå› æ­¤éœ€è¦ç¡®ä¿ç±»çš„ä¸åŒç‰ˆæœ¬å…·æœ‰ç›¸åŒçš„serialVersionUIDï¼›</li><li>åœ¨æŸäº›åœºåˆï¼Œä¸å¸Œæœ›ç±»çš„ä¸åŒç‰ˆæœ¬å¯¹åºåˆ—åŒ–å…¼å®¹ï¼Œå› æ­¤éœ€è¦ç¡®ä¿ç±»çš„ä¸åŒç‰ˆæœ¬å…·æœ‰ä¸åŒçš„serialVersionUIDã€‚</li></ul><p>7ã€Javaæœ‰å¾ˆå¤šåŸºç¡€ç±»å·²ç»å®ç°äº†serializableæ¥å£ï¼Œæ¯”å¦‚String , Vectorç­‰ã€‚ä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›æ²¡æœ‰å®ç°serializableæ¥å£çš„ï¼›</p><p>8ã€å¦‚æœä¸€ä¸ªå¯¹è±¡çš„æˆå‘˜å˜é‡æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡çš„æ•°æ®æˆå‘˜ä¹Ÿä¼šè¢«ä¿å­˜ï¼è¿™æ˜¯èƒ½ç”¨åºåˆ—åŒ–è§£å†³æ·±æ‹·è´çš„é‡è¦åŸå› ï¼›</p><p><strong>ArrayList åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„å®ç°</strong> ï¼šArrayList ä¸­å­˜å‚¨æ•°æ®çš„æ•°ç»„æ˜¯ç”¨ transient ä¿®é¥°çš„ï¼Œå› ä¸ºè¿™ä¸ªæ•°ç»„æ˜¯åŠ¨æ€æ‰©å±•çš„ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ç©ºé—´éƒ½è¢«ä½¿ç”¨ï¼Œå› æ­¤å°±ä¸éœ€è¦æ‰€æœ‰çš„å†…å®¹éƒ½è¢«åºåˆ—åŒ–ã€‚é€šè¿‡é‡å†™åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ–¹æ³•ï¼Œä½¿å¾—å¯ä»¥åªåºåˆ—åŒ–æ•°ç»„ä¸­æœ‰å†…å®¹çš„é‚£éƒ¨åˆ†æ•°æ®ã€‚</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">transient</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> elementData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å‚è€ƒèµ„æ–™ï¼š</p><ul><li><a href="https://blog.csdn.net/xlgen157387/article/details/79840134" target="_blank" rel="noopener noreferrer">åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„åº•å±‚å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ - CSDNåšå®¢</a></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å¸¸è§çš„åºåˆ—åŒ–åè®®æœ‰å“ªäº›">å¸¸è§çš„åºåˆ—åŒ–åè®®æœ‰å“ªäº›<a class="hash-link" href="#å¸¸è§çš„åºåˆ—åŒ–åè®®æœ‰å“ªäº›" title="Direct link to heading">â€‹</a></h4><ul><li><p>COMä¸»è¦ç”¨äºWindowså¹³å°ï¼Œå¹¶æ²¡æœ‰çœŸæ­£å®ç°è·¨å¹³å°ï¼Œå¦å¤–COMçš„åºåˆ—åŒ–çš„åŸç†åˆ©ç”¨äº†ç¼–è¯‘å™¨ä¸­è™šè¡¨ï¼Œä½¿å¾—å…¶å­¦ä¹ æˆæœ¬å·¨å¤§ã€‚ </p></li><li><p>CORBAæ˜¯æ—©æœŸæ¯”è¾ƒå¥½çš„å®ç°äº†è·¨å¹³å°ï¼Œè·¨è¯­è¨€çš„åºåˆ—åŒ–åè®®ã€‚COBRAçš„ä¸»è¦é—®é¢˜æ˜¯å‚ä¸æ–¹è¿‡å¤šå¸¦æ¥çš„ç‰ˆæœ¬è¿‡å¤šï¼Œç‰ˆæœ¬ä¹‹é—´å…¼å®¹æ€§è¾ƒå·®ï¼Œä»¥åŠä½¿ç”¨å¤æ‚æ™¦æ¶©ã€‚ </p></li><li><p>XML &amp; SOAP </p><ul><li>XMLæ˜¯ä¸€ç§å¸¸ç”¨çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–åè®®ï¼Œå…·æœ‰è·¨æœºå™¨ï¼Œè·¨è¯­è¨€ç­‰ä¼˜ç‚¹ã€‚ </li><li>SOAPï¼ˆSimple Object Access protocolï¼‰ æ˜¯ä¸€ç§è¢«å¹¿æ³›åº”ç”¨çš„ï¼ŒåŸºäºXMLä¸ºåºåˆ—åŒ–å’Œååºåˆ—åŒ–åè®®çš„ç»“æ„åŒ–æ¶ˆæ¯ä¼ é€’åè®®ã€‚SOAPå…·æœ‰å®‰å…¨ã€å¯æ‰©å±•ã€è·¨è¯­è¨€ã€è·¨å¹³å°å¹¶æ”¯æŒå¤šç§ä¼ è¾“å±‚åè®®ã€‚ </li></ul></li><li><p>JSONï¼ˆJavaScript Object Notationï¼‰ </p><ul><li>è¿™ç§Associative arrayæ ¼å¼éå¸¸ç¬¦åˆå·¥ç¨‹å¸ˆå¯¹å¯¹è±¡çš„ç†è§£ã€‚ </li><li>å®ƒä¿æŒäº†XMLçš„äººçœ¼å¯è¯»ï¼ˆHuman-readableï¼‰çš„ä¼˜ç‚¹ã€‚ </li><li>ç›¸å¯¹äºXMLè€Œè¨€ï¼Œåºåˆ—åŒ–åçš„æ•°æ®æ›´åŠ ç®€æ´ã€‚  </li><li>å®ƒå…·å¤‡javascriptçš„å…ˆå¤©æ€§æ”¯æŒï¼Œæ‰€ä»¥è¢«å¹¿æ³›åº”ç”¨äºWeb browserçš„åº”ç”¨å¸¸æ™¯ä¸­ï¼Œæ˜¯Ajaxçš„äº‹å®æ ‡å‡†åè®®ã€‚ </li><li>ä¸XMLç›¸æ¯”ï¼Œå…¶åè®®æ¯”è¾ƒç®€å•ï¼Œè§£æé€Ÿåº¦æ¯”è¾ƒå¿«ã€‚ </li><li>æ¾æ•£çš„Associative arrayä½¿å¾—å…¶å…·æœ‰è‰¯å¥½çš„å¯æ‰©å±•æ€§å’Œå…¼å®¹æ€§ã€‚ </li></ul></li><li><p>Thriftæ˜¯Facebookå¼€æºæä¾›çš„ä¸€ä¸ªé«˜æ€§èƒ½ï¼Œè½»é‡çº§RPCæœåŠ¡æ¡†æ¶ï¼Œå…¶äº§ç”Ÿæ­£æ˜¯ä¸ºäº†æ»¡è¶³å½“å‰å¤§æ•°æ®é‡ã€åˆ†å¸ƒå¼ã€è·¨è¯­è¨€ã€è·¨å¹³å°æ•°æ®é€šè®¯çš„éœ€æ±‚ã€‚Thriftåœ¨ç©ºé—´å¼€é”€å’Œè§£ææ€§èƒ½ä¸Šæœ‰äº†æ¯”è¾ƒå¤§çš„æå‡ï¼Œå¯¹äºå¯¹æ€§èƒ½è¦æ±‚æ¯”è¾ƒé«˜çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå®ƒæ˜¯ä¸€ä¸ªä¼˜ç§€çš„RPCè§£å†³æ–¹æ¡ˆï¼›ä½†æ˜¯ç”±äºThriftçš„åºåˆ—åŒ–è¢«åµŒå…¥åˆ°Thriftæ¡†æ¶é‡Œé¢ï¼ŒThriftæ¡†æ¶æœ¬èº«å¹¶æ²¡æœ‰é€å‡ºåºåˆ—åŒ–å’Œååºåˆ—åŒ–æ¥å£ï¼Œè¿™å¯¼è‡´å…¶å¾ˆéš¾å’Œå…¶ä»–ä¼ è¾“å±‚åè®®å…±åŒä½¿ç”¨ </p></li><li><p>Protobufå…·å¤‡äº†ä¼˜ç§€çš„åºåˆ—åŒ–åè®®çš„æ‰€éœ€çš„ä¼—å¤šå…¸å‹ç‰¹å¾ </p><ul><li>æ ‡å‡†çš„IDLå’ŒIDLç¼–è¯‘å™¨ï¼Œè¿™ä½¿å¾—å…¶å¯¹å·¥ç¨‹å¸ˆéå¸¸å‹å¥½ã€‚ </li><li>åºåˆ—åŒ–æ•°æ®éå¸¸ç®€æ´ï¼Œç´§å‡‘ï¼Œä¸XMLç›¸æ¯”ï¼Œå…¶åºåˆ—åŒ–ä¹‹åçš„æ•°æ®é‡çº¦ä¸º1/3åˆ°1/10ã€‚ </li><li>è§£æé€Ÿåº¦éå¸¸å¿«ï¼Œæ¯”å¯¹åº”çš„XMLå¿«çº¦20-100å€ã€‚ </li><li>æä¾›äº†éå¸¸å‹å¥½çš„åŠ¨æ€åº“ï¼Œä½¿ç”¨éå¸¸ç®€ä»‹ï¼Œååºåˆ—åŒ–åªéœ€è¦ä¸€è¡Œä»£ç ã€‚ç”±äºå…¶è§£ææ€§èƒ½é«˜ï¼Œåºåˆ—åŒ–åæ•°æ®é‡ç›¸å¯¹å°‘ï¼Œéå¸¸é€‚åˆåº”ç”¨å±‚å¯¹è±¡çš„æŒä¹…åŒ–åœºæ™¯ </li></ul></li><li><p>Avroçš„äº§ç”Ÿè§£å†³äº†JSONçš„å†—é•¿å’Œæ²¡æœ‰IDLçš„é—®é¢˜ï¼ŒAvroå±äºApache Hadoopçš„ä¸€ä¸ªå­é¡¹ç›®ã€‚ Avroæä¾›ä¸¤ç§åºåˆ—åŒ–æ ¼å¼ï¼šJSONæ ¼å¼æˆ–è€…Binaryæ ¼å¼ã€‚Binaryæ ¼å¼åœ¨ç©ºé—´å¼€é”€å’Œè§£ææ€§èƒ½æ–¹é¢å¯ä»¥å’ŒProtobufåª²ç¾ï¼ŒJSONæ ¼å¼æ–¹ä¾¿æµ‹è¯•é˜¶æ®µçš„è°ƒè¯•ã€‚é€‚åˆäºé«˜æ€§èƒ½çš„åºåˆ—åŒ–æœåŠ¡ã€‚ </p></li><li><p><strong>å‡ ç§åè®®çš„å¯¹æ¯”</strong> </p><ul><li>XMLåºåˆ—åŒ–ï¼ˆXstreamï¼‰æ— è®ºåœ¨æ€§èƒ½å’Œç®€æ´æ€§ä¸Šæ¯”è¾ƒå·®ï¼› </li><li>Thriftä¸Protobufç›¸æ¯”åœ¨æ—¶ç©ºå¼€é”€æ–¹é¢éƒ½æœ‰ä¸€å®šçš„åŠ£åŠ¿ï¼› </li><li>Protobufå’ŒAvroåœ¨ä¸¤æ–¹é¢è¡¨ç°éƒ½éå¸¸ä¼˜è¶Šã€‚ </li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5åŒæ­¥å’Œå¼‚æ­¥">5ã€åŒæ­¥å’Œå¼‚æ­¥<a class="hash-link" href="#5åŒæ­¥å’Œå¼‚æ­¥" title="Direct link to heading">â€‹</a></h3><p>åŒæ­¥IOï¼š</p><ul><li>è¯»å†™IOæ—¶ä»£ç ç­‰æ•°æ®è¿”å›åæ‰ç»§ç»­æ‰§è¡Œåç»­ä»£ç </li><li>ä»£ç ç¼–å†™ç®€å•ï¼ŒCPUæ‰§è¡Œæ•ˆç‡ä½</li><li>JDKæä¾›çš„java.ioæ˜¯åŒæ­¥IO</li></ul><p>å¼‚æ­¥IOï¼š</p><ul><li>è¯»å†™IOæ—¶ä»…å‘å‡ºè¯·æ±‚ï¼Œç„¶åç«‹å³æ‰§è¡Œåç»­ä»£ç </li><li>ä»£ç ç¼–å†™å¤æ‚ï¼ŒCPUæ‰§è¡Œæ•ˆç‡é«˜</li><li>JDKæä¾›çš„java.nioæ˜¯å¼‚æ­¥IO</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="6javaä¸­çš„niobioaioåˆ†åˆ«æ˜¯ä»€ä¹ˆ">6ã€Javaä¸­çš„NIOï¼ŒBIOï¼ŒAIOåˆ†åˆ«æ˜¯ä»€ä¹ˆ<a class="hash-link" href="#6javaä¸­çš„niobioaioåˆ†åˆ«æ˜¯ä»€ä¹ˆ" title="Direct link to heading">â€‹</a></h3><ul><li><strong>åŒæ­¥é˜»å¡IOï¼ˆBIOï¼‰</strong>ï¼šç”¨æˆ·è¿›ç¨‹å‘èµ·ä¸€ä¸ªIOæ“ä½œä»¥åï¼Œå¿…é¡»ç­‰å¾…IOæ“ä½œçš„çœŸæ­£å®Œæˆåï¼Œæ‰èƒ½ç»§ç»­è¿è¡Œï¼›</li><li><strong>åŒæ­¥éé˜»å¡IOï¼ˆNIOï¼‰</strong>ï¼šç”¨æˆ·è¿›ç¨‹å‘èµ·ä¸€ä¸ªIOæ“ä½œä»¥åï¼Œå¯åšå…¶å®ƒäº‹æƒ…ï¼Œä½†ç”¨æˆ·è¿›ç¨‹éœ€è¦ç»å¸¸è¯¢é—®IOæ“ä½œæ˜¯å¦å®Œæˆï¼Œè¿™æ ·é€ æˆä¸å¿…è¦çš„CPUèµ„æºæµªè´¹ï¼›</li><li><strong>å¼‚æ­¥éé˜»å¡IOï¼ˆAIOï¼‰</strong>ï¼šç”¨æˆ·è¿›ç¨‹å‘èµ·ä¸€ä¸ªIOæ“ä½œç„¶åï¼Œç«‹å³è¿”å›ï¼Œç­‰IOæ“ä½œçœŸæ­£çš„å®Œæˆä»¥åï¼Œåº”ç”¨ç¨‹åºä¼šå¾—åˆ°IOæ“ä½œå®Œæˆçš„é€šçŸ¥ã€‚ç±»æ¯”Futureæ¨¡å¼ã€‚</li></ul><ul><li>å…ˆæ¥ä¸ªä¾‹å­ç†è§£ä¸€ä¸‹æ¦‚å¿µï¼Œä»¥é“¶è¡Œå–æ¬¾ä¸ºä¾‹ï¼š<ul><li><strong>åŒæ­¥ ï¼š</strong> è‡ªå·±äº²è‡ªå‡ºé©¬æŒé“¶è¡Œå¡åˆ°é“¶è¡Œå–é’±ï¼ˆä½¿ç”¨åŒæ­¥IOæ—¶ï¼ŒJavaè‡ªå·±å¤„ç†IOè¯»å†™ï¼‰ã€‚</li><li><strong>å¼‚æ­¥ ï¼š</strong> å§”æ‰˜ä¸€å°å¼Ÿæ‹¿é“¶è¡Œå¡åˆ°é“¶è¡Œå–é’±ï¼Œç„¶åç»™ä½ ï¼ˆä½¿ç”¨å¼‚æ­¥IOæ—¶ï¼ŒJavaå°†IOè¯»å†™å§”æ‰˜ç»™OSå¤„ç†ï¼Œéœ€è¦å°†æ•°æ®ç¼“å†²åŒºåœ°å€å’Œå¤§å°ä¼ ç»™OS(é“¶è¡Œå¡å’Œå¯†ç )ï¼ŒOSéœ€è¦æ”¯æŒå¼‚æ­¥IOæ“ä½œAPIï¼‰ã€‚</li><li><strong>é˜»å¡ ï¼š</strong> ATMæ’é˜Ÿå–æ¬¾ï¼Œä½ åªèƒ½ç­‰å¾…ï¼ˆä½¿ç”¨é˜»å¡IOæ—¶ï¼ŒJavaè°ƒç”¨ä¼šä¸€ç›´é˜»å¡åˆ°è¯»å†™å®Œæˆæ‰è¿”å›ï¼‰ã€‚</li><li><strong>éé˜»å¡ ï¼š</strong> æŸœå°å–æ¬¾ï¼Œå–ä¸ªå·ï¼Œç„¶åååœ¨æ¤…å­ä¸Šåšå…¶å®ƒäº‹ï¼Œç­‰å·å¹¿æ’­ä¼šé€šçŸ¥ä½ åŠç†ï¼Œæ²¡åˆ°å·ä½ å°±ä¸èƒ½å»ï¼Œä½ å¯ä»¥ä¸æ–­é—®å¤§å ‚ç»ç†æ’åˆ°äº†æ²¡æœ‰ï¼Œå¤§å ‚ç»ç†å¦‚æœè¯´è¿˜æ²¡åˆ°ä½ å°±ä¸èƒ½å»ï¼ˆä½¿ç”¨éé˜»å¡IOæ—¶ï¼Œå¦‚æœä¸èƒ½è¯»å†™Javaè°ƒç”¨ä¼šé©¬ä¸Šè¿”å›ï¼Œå½“IOäº‹ä»¶åˆ†å‘å™¨ä¼šé€šçŸ¥å¯è¯»å†™æ—¶å†ç»§ç»­è¿›è¡Œè¯»å†™ï¼Œä¸æ–­å¾ªç¯ç›´åˆ°è¯»å†™å®Œæˆï¼‰ã€‚</li></ul></li></ul><div align="center"> <img loading="lazy" src="assets/java-io.png" width="" class="img_ev3q"></div><br><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="bio">BIO<a class="hash-link" href="#bio" title="Direct link to heading">â€‹</a></h4><p><strong>å®šä¹‰ï¼š</strong>BIO å…¨ç§°Block-IO æ˜¯ä¸€ç§<strong>é˜»å¡åŒæ­¥</strong>çš„é€šä¿¡æ¨¡å¼ã€‚æˆ‘ä»¬å¸¸è¯´çš„Stock IO ä¸€èˆ¬æŒ‡çš„æ˜¯BIOã€‚æ˜¯ä¸€ä¸ªæ¯”è¾ƒä¼ ç»Ÿçš„é€šä¿¡æ–¹å¼ï¼Œ<strong>æ¨¡å¼ç®€å•</strong>ï¼Œ<strong>ä½¿ç”¨æ–¹ä¾¿</strong>ã€‚ä½†<strong>å¹¶å‘å¤„ç†èƒ½åŠ›ä½</strong>ï¼Œ<strong>é€šä¿¡è€—æ—¶</strong>ï¼Œ<strong>ä¾èµ–ç½‘é€Ÿ</strong>ã€‚</p><p><strong>BIO è®¾è®¡åŸç†ï¼š</strong></p><p>æœåŠ¡å™¨é€šè¿‡ä¸€ä¸ª Acceptor çº¿ç¨‹è´Ÿè´£ç›‘å¬å®¢æˆ·ç«¯è¯·æ±‚å’Œä¸ºæ¯ä¸ªå®¢æˆ·ç«¯åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹è¿›è¡Œé“¾è·¯å¤„ç†ã€‚å…¸å‹çš„ä¸€è¯·æ±‚ä¸€åº”ç­”æ¨¡å¼ã€‚è‹¥å®¢æˆ·ç«¯æ•°é‡å¢å¤šï¼Œé¢‘ç¹åœ°åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ä¼šç»™æœåŠ¡å™¨æ‰“å¼€å¾ˆå¤§çš„å‹åŠ›ã€‚åæ”¹è‰¯ä¸ºç”¨çº¿ç¨‹æ± çš„æ–¹å¼ä»£æ›¿æ–°å¢çº¿ç¨‹ï¼Œè¢«ç§°ä¸ºä¼ªå¼‚æ­¥IOã€‚</p><p>æœåŠ¡å™¨æä¾›IPåœ°å€å’Œç›‘å¬çš„ç«¯å£ï¼Œå®¢æˆ·ç«¯é€šè¿‡TCPçš„ä¸‰æ¬¡æ¡æ‰‹ä¸æœåŠ¡å™¨è¿æ¥ï¼Œè¿æ¥æˆåŠŸåï¼ŒåŒæ”¾æ‰èƒ½é€šè¿‡å¥—æ¥å­—(Stock)é€šä¿¡ã€‚</p><p><strong>å°ç»“ï¼š</strong></p><p>BIOæ¨¡å‹ä¸­é€šè¿‡ <strong>Socket</strong> å’Œ <strong>ServerSocket</strong> å®Œæˆå¥—æ¥å­—é€šé“çš„å®ç°ã€‚é˜»å¡ï¼ŒåŒæ­¥ï¼Œå»ºç«‹è¿æ¥è€—æ—¶ã€‚</p><div align="center"> <img loading="lazy" src="assets/java-bio2.png" width="" class="img_ev3q"></div><br><p>ä¸ºäº†æ”¹è¿›è¿™ç§ä¸€è¿æ¥ä¸€çº¿ç¨‹çš„æ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨çº¿ç¨‹æ± æ¥ç®¡ç†è¿™äº›çº¿ç¨‹ï¼ˆéœ€è¦äº†è§£æ›´å¤šè¯·å‚è€ƒå‰é¢æä¾›çš„æ–‡ç« ï¼‰ï¼Œå®ç°1ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹å¤„ç†Nä¸ªå®¢æˆ·ç«¯çš„æ¨¡å‹ï¼ˆä½†æ˜¯åº•å±‚è¿˜æ˜¯ä½¿ç”¨çš„åŒæ­¥é˜»å¡I/Oï¼‰ï¼Œé€šå¸¸è¢«ç§°ä¸ºâ€œ<strong>ä¼ªå¼‚æ­¥I/Oæ¨¡å‹</strong>â€œã€‚</p><div align="center"> <img loading="lazy" src="assets/java-bio-threadpool.png" width="" class="img_ev3q"></div><br><p>å®ç°å¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦å°†æ–°å»ºçº¿ç¨‹çš„åœ°æ–¹ï¼Œäº¤ç»™çº¿ç¨‹æ± ç®¡ç†å³å¯ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œå¦‚æœä½¿ç”¨ CachedThreadPool çº¿ç¨‹æ± ï¼ˆä¸é™åˆ¶çº¿ç¨‹æ•°é‡ï¼Œå¦‚æœä¸æ¸…æ¥šè¯·å‚è€ƒæ–‡é¦–æä¾›çš„æ–‡ç« ï¼‰ï¼Œå…¶å®é™¤äº†èƒ½è‡ªåŠ¨å¸®æˆ‘ä»¬ç®¡ç†çº¿ç¨‹ï¼ˆå¤ç”¨ï¼‰ï¼Œçœ‹èµ·æ¥ä¹Ÿå°±åƒæ˜¯1:1çš„å®¢æˆ·ç«¯ï¼šçº¿ç¨‹æ•°æ¨¡å‹ï¼Œè€Œä½¿ç”¨ FixedThreadPool æˆ‘ä»¬å°±æœ‰æ•ˆçš„æ§åˆ¶äº†çº¿ç¨‹çš„æœ€å¤§æ•°é‡ï¼Œä¿è¯äº†ç³»ç»Ÿæœ‰é™çš„èµ„æºçš„æ§åˆ¶ï¼Œå®ç°äº†N:Mçš„ä¼ªå¼‚æ­¥ I/O æ¨¡å‹ã€‚</p><p>ä½†æ˜¯ï¼Œæ­£å› ä¸ºé™åˆ¶äº†çº¿ç¨‹æ•°é‡ï¼Œå¦‚æœå‘ç”Ÿå¤§é‡å¹¶å‘è¯·æ±‚ï¼Œè¶…è¿‡æœ€å¤§æ•°é‡çš„çº¿ç¨‹å°±åªèƒ½ç­‰å¾…ï¼Œç›´åˆ°çº¿ç¨‹æ± ä¸­çš„æœ‰ç©ºé—²çš„çº¿ç¨‹å¯ä»¥è¢«å¤ç”¨ã€‚è€Œå¯¹ Socket çš„è¾“å…¥æµå°±è¡Œè¯»å–æ—¶ï¼Œä¼šä¸€ç›´é˜»å¡ï¼Œç›´åˆ°å‘ç”Ÿï¼š</p><ul><li>æœ‰æ•°æ®å¯è¯»</li><li>å¯ç”¨æ•°æ®ä»¥åŠè¯»å–å®Œæ¯•</li><li>å‘ç”Ÿç©ºæŒ‡é’ˆæˆ– I/O å¼‚å¸¸</li></ul><p>æ‰€ä»¥åœ¨è¯»å–æ•°æ®è¾ƒæ…¢æ—¶ï¼ˆæ¯”å¦‚æ•°æ®é‡å¤§ã€ç½‘ç»œä¼ è¾“æ…¢ç­‰ï¼‰ï¼Œå¤§é‡å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œå…¶ä»–æ¥å…¥çš„æ¶ˆæ¯ï¼Œåªèƒ½ä¸€ç›´ç­‰å¾…ï¼Œè¿™å°±æ˜¯æœ€å¤§çš„å¼Šç«¯ã€‚</p><p><em>è€Œåé¢å³å°†ä»‹ç»çš„NIOï¼Œå°±èƒ½è§£å†³è¿™ä¸ªéš¾é¢˜ã€‚</em></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="nio">NIO<a class="hash-link" href="#nio" title="Direct link to heading">â€‹</a></h4><p>NIOï¼ˆå®˜æ–¹ï¼šNew IOï¼‰ï¼Œä¹Ÿå«Non-Block IO æ˜¯ä¸€ç§<strong>åŒæ­¥éé˜»å¡</strong>çš„é€šä¿¡æ¨¡å¼ã€‚</p><p><strong>NIO è®¾è®¡åŸç†ï¼š</strong></p><p>NIOç›¸å¯¹äºBIOæ¥è¯´ä¸€å¤§è¿›æ­¥ã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´é€šè¿‡Channelé€šä¿¡ã€‚NIOå¯ä»¥åœ¨Channelè¿›è¡Œè¯»å†™æ“ä½œã€‚è¿™äº›Channeléƒ½ä¼šè¢«æ³¨å†Œåœ¨Selectorå¤šè·¯å¤ç”¨å™¨ä¸Šã€‚Selectoré€šè¿‡ä¸€ä¸ªçº¿ç¨‹ä¸åœçš„è½®è¯¢è¿™äº›Channelã€‚æ‰¾å‡ºå·²ç»å‡†å¤‡å°±ç»ªçš„Channelæ‰§è¡ŒIOæ“ä½œã€‚
NIO é€šè¿‡ä¸€ä¸ªçº¿ç¨‹è½®è¯¢ï¼Œå®ç°åƒä¸‡ä¸ªå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œè¿™å°±æ˜¯éé˜»å¡NIOçš„ç‰¹ç‚¹ã€‚</p><p>1ï¼‰<strong>ç¼“å†²åŒºBuffer</strong>ï¼šå®ƒæ˜¯NIOä¸BIOçš„ä¸€ä¸ªé‡è¦åŒºåˆ«ã€‚BIOæ˜¯å°†æ•°æ®ç›´æ¥å†™å…¥æˆ–è¯»å–åˆ°Streamå¯¹è±¡ä¸­ã€‚è€ŒNIOçš„æ•°æ®æ“ä½œéƒ½æ˜¯åœ¨ç¼“å†²åŒºä¸­è¿›è¡Œçš„ã€‚ç¼“å†²åŒºå®é™…ä¸Šæ˜¯ä¸€ä¸ªæ•°ç»„ã€‚Bufferæœ€å¸¸è§çš„ç±»å‹æ˜¯ByteBufferï¼Œå¦å¤–è¿˜æœ‰CharBufferï¼ŒShortBufferï¼ŒIntBufferï¼ŒLongBufferï¼ŒFloatBufferï¼ŒDoubleBufferã€‚</p><p>2ï¼‰<strong>é€šé“Channel</strong>ï¼šå’Œæµä¸åŒï¼Œé€šé“æ˜¯åŒå‘çš„ã€‚NIOå¯ä»¥é€šè¿‡Channelè¿›è¡Œæ•°æ®çš„è¯»ï¼Œå†™å’ŒåŒæ—¶è¯»å†™æ“ä½œã€‚é€šé“åˆ†ä¸ºä¸¤å¤§ç±»ï¼šä¸€ç±»æ˜¯ç½‘ç»œè¯»å†™ï¼ˆSelectableChannelï¼‰ï¼Œä¸€ç±»æ˜¯ç”¨äºæ–‡ä»¶æ“ä½œï¼ˆFileChannelï¼‰ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„SocketChannelå’ŒServerSocketChanneléƒ½æ˜¯SelectableChannelçš„å­ç±»ã€‚</p><p>3ï¼‰<strong>å¤šè·¯å¤ç”¨å™¨Selector</strong>ï¼šNIOç¼–ç¨‹çš„åŸºç¡€ã€‚å¤šè·¯å¤ç”¨å™¨æä¾›é€‰æ‹©å·²ç»å°±ç»ªçš„ä»»åŠ¡çš„èƒ½åŠ›ã€‚å°±æ˜¯Selectorä¼šä¸æ–­åœ°è½®è¯¢æ³¨å†Œåœ¨å…¶ä¸Šçš„é€šé“ï¼ˆChannelï¼‰ï¼Œå¦‚æœæŸä¸ªé€šé“å¤„äºå°±ç»ªçŠ¶æ€ï¼Œä¼šè¢«Selectorè½®è¯¢å‡ºæ¥ï¼Œç„¶åé€šè¿‡SelectionKeyå¯ä»¥å–å¾—å°±ç»ªçš„Channelé›†åˆï¼Œä»è€Œè¿›è¡Œåç»­çš„IOæ“ä½œã€‚æœåŠ¡å™¨ç«¯åªè¦æä¾›ä¸€ä¸ªçº¿ç¨‹è´Ÿè´£Selectorçš„è½®è¯¢ï¼Œå°±å¯ä»¥æ¥å…¥æˆåƒä¸Šä¸‡ä¸ªå®¢æˆ·ç«¯ï¼Œè¿™å°±æ˜¯JDK NIOåº“çš„å·¨å¤§è¿›æ­¥ã€‚</p><p>å°ç»“ï¼š<strong>NIOæ¨¡å‹ä¸­é€šè¿‡SocketChannelå’ŒServerSocketChannelå®Œæˆå¥—æ¥å­—é€šé“çš„å®ç°ã€‚éé˜»å¡/é˜»å¡ï¼ŒåŒæ­¥ï¼Œé¿å…TCPå»ºç«‹è¿æ¥ä½¿ç”¨ä¸‰æ¬¡æ¡æ‰‹å¸¦æ¥çš„å¼€é”€ã€‚</strong></p><p><img loading="lazy" src="/assets/images/java-nio-d73b9474f579d37a071c2df47e1366a2.png" width="1655" height="605" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="aio-nio2">AIO (NIO.2)<a class="hash-link" href="#aio-nio2" title="Direct link to heading">â€‹</a></h4><ul><li>å¼‚æ­¥éé˜»å¡ï¼ŒæœåŠ¡å™¨å®ç°æ¨¡å¼ä¸ºä¸€ä¸ªæœ‰æ•ˆè¯·æ±‚ä¸€ä¸ªçº¿ç¨‹ï¼Œå®¢æˆ·ç«¯çš„I/Oè¯·æ±‚éƒ½æ˜¯ç”±OSå…ˆå®Œæˆäº†å†é€šçŸ¥æœåŠ¡å™¨åº”ç”¨å»å¯åŠ¨çº¿ç¨‹è¿›è¡Œå¤„ç†. </li><li>AIOæ–¹å¼ä½¿ç”¨äºè¿æ¥æ•°ç›®å¤šä¸”è¿æ¥æ¯”è¾ƒé•¿ï¼ˆé‡æ“ä½œï¼‰çš„æ¶æ„ï¼Œæ¯”å¦‚<strong>ç›¸å†ŒæœåŠ¡å™¨</strong>ï¼Œå……åˆ†è°ƒç”¨OSå‚ä¸å¹¶å‘æ“ä½œï¼Œç¼–ç¨‹æ¯”è¾ƒå¤æ‚ï¼ŒJDK7å¼€å§‹æ”¯æŒã€‚ </li></ul><p>AIO å¹¶æ²¡æœ‰é‡‡ç”¨NIOçš„å¤šè·¯å¤ç”¨å™¨ï¼Œè€Œæ˜¯ä½¿ç”¨å¼‚æ­¥é€šé“çš„æ¦‚å¿µã€‚å…¶readï¼Œwriteæ–¹æ³•çš„è¿”å›ç±»å‹éƒ½æ˜¯Futureå¯¹è±¡ã€‚è€ŒFutureæ¨¡å‹æ˜¯å¼‚æ­¥çš„ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šå»ä¸»å‡½æ•°ç­‰å¾…æ—¶é—´ã€‚</p><p>å°ç»“ï¼š<strong>AIOæ¨¡å‹ä¸­é€šè¿‡AsynchronousSocketChannelå’ŒAsynchronousServerSocketChannelå®Œæˆå¥—æ¥å­—é€šé“çš„å®ç°ã€‚éé˜»å¡ï¼Œå¼‚æ­¥</strong>ã€‚</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æ€»ç»“">æ€»ç»“<a class="hash-link" href="#æ€»ç»“" title="Direct link to heading">â€‹</a></h4><ol><li>BIOæ¨¡å‹ä¸­é€šè¿‡<strong>Socket</strong>å’Œ<strong>ServerSocket</strong>å®Œæˆå¥—æ¥å­—é€šé“å®ç°ã€‚é˜»å¡ï¼ŒåŒæ­¥ï¼Œè¿æ¥è€—æ—¶ã€‚</li><li>NIOæ¨¡å‹ä¸­é€šè¿‡<strong>SocketChannel</strong>å’Œ<strong>ServerSocketChannel</strong>å®Œæˆå¥—æ¥å­—é€šé“å®ç°ã€‚éé˜»å¡/é˜»å¡ï¼ŒåŒæ­¥ï¼Œé¿å…TCPå»ºç«‹è¿æ¥ä½¿ç”¨ä¸‰æ¬¡æ¡æ‰‹å¸¦æ¥çš„å¼€é”€ã€‚</li><li>AIOæ¨¡å‹ä¸­é€šè¿‡<strong>AsynchronousSocketChannel</strong>å’Œ<strong>AsynchronousServerSocketChannel</strong>å®Œæˆå¥—æ¥å­—é€šé“å®ç°ã€‚éé˜»å¡ï¼Œå¼‚æ­¥ã€‚</li></ol><div align="center"> <img loading="lazy" src="assets/java-io-compare.png" width="" class="img_ev3q"></div><br><p><strong>å¦å¤–ï¼Œ</strong>I/Oå±äºåº•å±‚æ“ä½œï¼Œéœ€è¦æ“ä½œç³»ç»Ÿæ”¯æŒï¼Œå¹¶å‘ä¹Ÿéœ€è¦æ“ä½œç³»ç»Ÿçš„æ”¯æŒï¼Œæ‰€ä»¥æ€§èƒ½æ–¹é¢ä¸åŒæ“ä½œç³»ç»Ÿå·®å¼‚ä¼šæ¯”è¾ƒæ˜æ˜¾ã€‚ </p><p>å‚è€ƒï¼š</p><ul><li><a href="http://blog.51cto.com/stevex/1284437" target="_blank" rel="noopener noreferrer">Java BIOã€NIOã€AIO å­¦ä¹ -åŠ›é‡æ¥æºäºèµ¤è¯šçš„çˆ±ï¼-51CTOåšå®¢</a></li><li><a href="https://segmentfault.com/a/1190000012976683" target="_blank" rel="noopener noreferrer">Nettyåºç« ä¹‹BIO NIO AIOæ¼”å˜ - JavaEEæ•™ç¨‹ - SegmentFault æ€å¦</a></li><li><a href="https://blog.csdn.net/anxpp/article/details/51512200#t3" target="_blank" rel="noopener noreferrer">Java ç½‘ç»œIOç¼–ç¨‹æ€»ç»“ï¼ˆBIOã€NIOã€AIOå‡å«å®Œæ•´å®ä¾‹ä»£ç ï¼‰ - CSDNåšå®¢</a></li><li><a href="http://tutorials.jenkov.com/java-io/index.html" target="_blank" rel="noopener noreferrer">Java IO Tutorial</a></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="7bionioaioåŒºåˆ«">7ã€BIOï¼ŒNIOï¼ŒAIOåŒºåˆ«<a class="hash-link" href="#7bionioaioåŒºåˆ«" title="Direct link to heading">â€‹</a></h3><ul><li><strong>BIOï¼ˆåŒæ­¥é˜»å¡ï¼‰</strong>ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¿æ¥éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œä½¿ç”¨ç®€å•ï¼Œä½†ååé‡å°</li><li><strong>NIOï¼ˆåŒæ­¥éé˜»å¡ï¼‰</strong>ï¼šå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨é€šè¿‡Channelè¿æ¥ï¼Œé‡‡ç”¨å¤šè·¯å¤ç”¨å™¨è½®è¯¢æ³¨å†Œçš„Channelã€‚æé«˜ååé‡å’Œå¯é æ€§ã€‚</li><li><strong>AIOï¼ˆå¼‚æ­¥éé˜»å¡ï¼‰</strong>ï¼šNIOçš„å‡çº§ç‰ˆï¼Œé‡‡ç”¨å¼‚æ­¥é€šé“å®ç°å¼‚æ­¥é€šä¿¡ï¼Œå…¶readå’Œwriteæ–¹æ³•å‡æ˜¯å¼‚æ­¥æ–¹æ³•ã€‚</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="8stocké€šä¿¡çš„ä¼ªä»£ç å®ç°æµç¨‹">8ã€Stocké€šä¿¡çš„ä¼ªä»£ç å®ç°æµç¨‹<a class="hash-link" href="#8stocké€šä¿¡çš„ä¼ªä»£ç å®ç°æµç¨‹" title="Direct link to heading">â€‹</a></h3><ol><li>æœåŠ¡å™¨ç»‘å®šç«¯å£ï¼šserver = new ServerSocket(PORT)</li><li>æœåŠ¡å™¨é˜»å¡ç›‘å¬ï¼šsocket = server.accept()</li><li>æœåŠ¡å™¨å¼€å¯çº¿ç¨‹ï¼šnew Thread(Handle handle)</li><li>æœåŠ¡å™¨è¯»å†™æ•°æ®ï¼šBufferedReader PrintWriter </li><li>å®¢æˆ·ç«¯ç»‘å®šIPå’ŒPORTï¼šnew Socket(IP_ADDRESS, PORT)</li><li>å®¢æˆ·ç«¯ä¼ è¾“æ¥æ”¶æ•°æ®ï¼šBufferedReader PrintWriter</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="9ç½‘ç»œæ“ä½œ">9ã€ç½‘ç»œæ“ä½œ<a class="hash-link" href="#9ç½‘ç»œæ“ä½œ" title="Direct link to heading">â€‹</a></h3><p>Java ä¸­çš„ç½‘ç»œæ”¯æŒï¼š</p><ul><li>InetAddressï¼šç”¨äºè¡¨ç¤ºç½‘ç»œä¸Šçš„ç¡¬ä»¶èµ„æºï¼Œå³ IP åœ°å€ï¼›</li><li>URLï¼šç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼›</li><li>Socketsï¼šä½¿ç”¨ TCP åè®®å®ç°ç½‘ç»œé€šä¿¡ï¼›</li><li>Datagramï¼šä½¿ç”¨ UDP åè®®å®ç°ç½‘ç»œé€šä¿¡ã€‚</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="inetaddress">InetAddress<a class="hash-link" href="#inetaddress" title="Direct link to heading">â€‹</a></h4><p>æ²¡æœ‰å…¬æœ‰æ„é€ å‡½æ•°ï¼Œåªèƒ½é€šè¿‡é™æ€æ–¹æ³•æ¥åˆ›å»ºå®ä¾‹ã€‚</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token class-name" style="color:rgb(255, 203, 107)">InetAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getByName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> host</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">InetAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getByAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">byte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="url">URL<a class="hash-link" href="#url" title="Direct link to heading">â€‹</a></h4><p>å¯ä»¥ç›´æ¥ä» URL ä¸­è¯»å–å­—èŠ‚æµæ•°æ®ã€‚</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">IOException</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">URL</span><span class="token plain"> url </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://www.baidu.com&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// å­—èŠ‚æµ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">InputStream</span><span class="token plain"> is </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">openStream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// å­—ç¬¦æµ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">InputStreamReader</span><span class="token plain"> isr </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">InputStreamReader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">is</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;utf-8&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">BufferedReader</span><span class="token plain"> br </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">BufferedReader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> line </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> br</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">readLine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">line </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">System</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">println</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">line</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        line </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> br</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">readLine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    br</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">close</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sockets">Sockets<a class="hash-link" href="#sockets" title="Direct link to heading">â€‹</a></h4><ul><li>ServerSocketï¼šæœåŠ¡å™¨ç«¯ç±»</li><li>Socketï¼šå®¢æˆ·ç«¯ç±»</li><li>æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯é€šè¿‡ InputStream å’Œ OutputStream è¿›è¡Œè¾“å…¥è¾“å‡ºã€‚</li></ul><div align="center"> <img loading="lazy" src="https://raw.githubusercontent.com/CyC2018/Interview-Notebook/033676724523021872edb86176e92a87b87acd46/pics/ClienteServidorSockets1521731145260.jpg" width="" class="img_ev3q"></div><br><p>å‚è€ƒèµ„æ–™ï¼š</p><ul><li><a href="https://www.cnblogs.com/alps/p/5672757.html" target="_blank" rel="noopener noreferrer">ä½¿ç”¨TCP/IPçš„å¥—æ¥å­—ï¼ˆSocketï¼‰è¿›è¡Œé€šä¿¡ - alps_01 - åšå®¢å›­</a></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="datagram">Datagram<a class="hash-link" href="#datagram" title="Direct link to heading">â€‹</a></h4><ul><li>DatagramPacketï¼šæ•°æ®åŒ…ç±»</li><li>DatagramSocketï¼šé€šä¿¡ç±»</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä»€ä¹ˆæ˜¯socket">ä»€ä¹ˆæ˜¯Socketï¼Ÿ<a class="hash-link" href="#ä»€ä¹ˆæ˜¯socket" title="Direct link to heading">â€‹</a></h4><blockquote><p>TCPç”¨ä¸»æœºçš„IPåœ°å€åŠ ä¸Šä¸»æœºä¸Šçš„ç«¯å£å·ä½œä¸ºTCPè¿æ¥çš„ç«¯ç‚¹ï¼Œè¿™ç§ç«¯ç‚¹å°±å«åšå¥—æ¥å­—ï¼ˆsocketï¼‰æˆ–æ’å£ã€‚ </p><p>å¥—æ¥å­—ç”¨ï¼ˆIPåœ°å€ï¼šç«¯å£å·ï¼‰è¡¨ç¤ºã€‚</p></blockquote><p>Socketæ˜¯è¿›ç¨‹é€šè®¯çš„ä¸€ç§æ–¹å¼ï¼Œå³è°ƒç”¨è¿™ä¸ªç½‘ç»œåº“çš„ä¸€äº›APIå‡½æ•°å®ç°åˆ†å¸ƒåœ¨ä¸åŒä¸»æœºçš„ç›¸å…³è¿›ç¨‹ä¹‹é—´çš„æ•°æ®äº¤æ¢ã€‚ </p><p>socketæ˜¯ç½‘ç»œç¼–ç¨‹çš„åŸºç¡€ï¼Œæœ¬æ–‡ç”¨æ‰“ç”µè¯æ¥ç±»æ¯”socketé€šä¿¡ä¸­å»ºç«‹TCPè¿æ¥çš„è¿‡ç¨‹ã€‚</p><p><strong>socketå‡½æ•°</strong>ï¼šè¡¨ç¤ºä½ ä¹°äº†æˆ–è€…å€Ÿäº†ä¸€éƒ¨æ‰‹æœºã€‚
<strong>bindå‡½æ•°</strong>ï¼šå‘Šè¯‰åˆ«äººä½ çš„æ‰‹æœºå·ç ï¼Œè®©ä»–ä»¬ç»™ä½ æ‰“ç”µè¯ã€‚
<strong>listenå‡½æ•°</strong>ï¼šæ‰“å¼€æ‰‹æœºçš„é“ƒå£°ï¼Œè€Œä¸æ˜¯é™éŸ³ï¼Œè¿™æ ·æœ‰ç”µè¯æ—¶å¯ä»¥ç«‹é©¬ååº”ã€‚listenå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæœ€å¤§è¿æ¥æ•°ï¼Œè¡¨ç¤ºæœ€å¤šæœ‰å‡ ä¸ªäººå¯ä»¥åŒæ—¶æ‹¨æ‰“ä½ çš„å·ç ã€‚ä¸è¿‡æˆ‘ä»¬çš„æ‰‹æœºï¼Œæœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªäººæ‰“è¿›æ¥ï¼Œè¦ä¸ç„¶å°±æç¤ºå çº¿ã€‚
<strong>connectå‡½æ•°</strong>ï¼šä½ çš„æœ‹å‹çŸ¥é“äº†ä½ çš„å·ç ï¼Œé€šè¿‡è¿™ä¸ªå·ç æ¥è”ç³»ä½ ã€‚åœ¨ä»–ç­‰å¾…ä½ å›åº”çš„æ—¶å€™ï¼Œä¸èƒ½åšå…¶ä»–äº‹æƒ…ï¼Œæ‰€ä»¥connectå‡½æ•°æ˜¯é˜»å¡çš„ã€‚
<strong>acceptå‡½æ•°</strong>ï¼šä½ å¬åˆ°äº†ç”µè¯é“ƒå£°ï¼Œæ¥ç”µè¯ï¼Œaccept itï¼ç„¶åâ€œå–‚â€ä¸€å£°ï¼Œä½ çš„æœ‹å‹å¬åˆ°ä½ çš„å›åº”ï¼ŒçŸ¥é“ç”µè¯å·²ç»æ‰“è¿›å»äº†ã€‚è‡³æ­¤ï¼Œä¸€ä¸ªTCPè¿æ¥å»ºç«‹äº†ã€‚
<strong>read/writeå‡½æ•°</strong>ï¼šè¿æ¥å»ºç«‹åï¼ŒTCPçš„ä¸¤ç«¯å¯ä»¥äº’ç›¸æ”¶å‘æ¶ˆæ¯ï¼Œè¿™æ—¶å€™çš„è¿æ¥æ˜¯å…¨åŒå·¥çš„ã€‚å¯¹åº”æ‰“ç”µè¯ä¸­çš„ç”µè¯ç…²ã€‚
<strong>closeå‡½æ•°</strong>ï¼šé€šè¯å®Œæ¯•ï¼Œä¸€æ–¹è¯´â€œæˆ‘æŒ‚äº†â€ï¼Œå¦ä¸€æ–¹å›åº”&quot;ä½ æŒ‚å§&quot;ï¼Œç„¶åå°†è¿æ¥ç»ˆæ­¢ã€‚å®é™…çš„close(sockfd)æœ‰äº›ä¸åŒï¼Œå®ƒä¸æ­¢æ˜¯ç»ˆæ­¢è¿æ¥ï¼Œè¿˜æŠŠæ‰‹æœºä¹Ÿå½’è¿˜ï¼Œä¸åœ¨å æœ‰è¿™éƒ¨æ‰‹æœºï¼Œå°±å½“æ˜¯å…¬ç”¨ç”µè¯å§ã€‚</p><p>æ³¨æ„åˆ°ï¼Œä¸Šè¿°è¿æ¥æ˜¯é˜»å¡çš„ï¼Œä½ ä¸€æ¬¡åªèƒ½å“åº”ä¸€ä¸ªç”¨æˆ·çš„è¿æ¥è¯·æ±‚ï¼Œä½†åœ¨å®é™…ç½‘ç»œç¼–ç¨‹ä¸­ï¼Œä¸€ä¸ªæœåŠ¡å™¨æœåŠ¡äºå¤šä¸ªå®¢æˆ·ï¼Œä¸Šè¿°æ–¹æ¡ˆä¹Ÿå°±è¡Œä¸é€šäº†ï¼Œæ€ä¹ˆåŠï¼Ÿæƒ³ä¸€æƒ³10086ï¼Œç§»åŠ¨çš„å£°è®¯æœåŠ¡å°ï¼Œä¹Ÿæ˜¯åªæœ‰ä¸€ä¸ªå·ç ï¼Œå®ƒæ€ä¹ˆèƒ½åŒæ—¶æœåŠ¡é‚£ä¹ˆå¤šäººå‘¢ï¼Ÿå¯ä»¥è¿™æ ·ç†è§£ï¼Œåœ¨ä½ æ‰“ç”µè¯åˆ°10086æ—¶ï¼Œæ€»æœåŠ¡å°ä¼šè®©ä¸€ä¸ªæ¥çº¿å‘˜æ¥ä¸ºä½ æœåŠ¡ï¼Œè€Œå®ƒè‡ªå·±å´ç»§ç»­ç›‘å¬æœ‰æ²¡æœ‰æ–°çš„ç”µè¯æ¥å…¥ã€‚åœ¨ç½‘ç»œç¼–ç¨‹ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹ç±»ä¼¼äºforkä¸€ä¸ªå­è¿›ç¨‹ï¼Œå»ºç«‹å®é™…çš„é€šä¿¡è¿æ¥ï¼Œè€Œä¸»è¿›ç¨‹ç»§ç»­ç›‘å¬ã€‚10086çš„æ¥çº¿å‘˜æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥å½“è¿æ¥çš„äººæ•°è¾¾åˆ°ä¸Šçº¿æ—¶ï¼Œå®ƒä¼šæ”¾é¦–æ­Œç»™ä½ å¬ï¼Œå¿™ç­‰å¾…ï¼Œç›´åˆ°æœ‰æ–°çš„ç©ºé—²æ¥çº¿å‘˜ä¸ºæ­¢ã€‚
å®é™…ç½‘ç»œç¼–ç¨‹ä¸­ï¼Œå¤„ç†å¹¶å‘çš„æ–¹å¼è¿˜æœ‰select/poll/epollç­‰ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®é™…çš„socketé€šä¿¡è¿‡ç¨‹ï¼š</p><div align="center"> <img loading="lazy" src="assets/tcpsocket.png" width="" class="img_ev3q"></div><br><p><strong>Socketçš„ç‰¹ç‚¹</strong></p><ol><li>SocketåŸºäºTCPé“¾æ¥ï¼Œæ•°æ®ä¼ è¾“æœ‰ä¿éšœ</li><li>Socketé€‚ç”¨äºå»ºç«‹é•¿æ—¶é—´é“¾æ¥</li><li>Socketç¼–ç¨‹é€šå¸¸åº”ç”¨äºå³æ—¶é€šè®¯</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/frank-lam/frankfeekr-notes/tree/master/docs/02.backend/java/04-Java-IO.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/backend/java/Javaå¹¶å‘ç¼–ç¨‹"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Java å¹¶å‘ç¼–ç¨‹</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/backend/java/Javaè™šæ‹Ÿæœº"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Java è™šæ‹Ÿæœº</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1ç£ç›˜æ“ä½œfile" class="table-of-contents__link toc-highlight">1ã€ç£ç›˜æ“ä½œï¼ˆFileï¼‰</a></li><li><a href="#2å­—èŠ‚æ“ä½œstream" class="table-of-contents__link toc-highlight">2ã€å­—èŠ‚æ“ä½œï¼ˆ*Streamï¼‰</a></li><li><a href="#3å­—ç¬¦æ“ä½œreader--writer" class="table-of-contents__link toc-highlight">3ã€å­—ç¬¦æ“ä½œï¼ˆ<em>Reader | </em>Writerï¼‰</a></li><li><a href="#4javaåºåˆ—åŒ–å¦‚ä½•å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–å¸¸è§çš„åºåˆ—åŒ–åè®®æœ‰å“ªäº›" class="table-of-contents__link toc-highlight">4ã€Javaåºåˆ—åŒ–ï¼Œå¦‚ä½•å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œå¸¸è§çš„åºåˆ—åŒ–åè®®æœ‰å“ªäº›ï¼Ÿ</a><ul><li><a href="#javaåºåˆ—åŒ–å®šä¹‰" class="table-of-contents__link toc-highlight">Javaåºåˆ—åŒ–å®šä¹‰</a></li><li><a href="#å¦‚ä½•å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–åº•å±‚æ€ä¹ˆå®ç°" class="table-of-contents__link toc-highlight">å¦‚ä½•å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œåº•å±‚æ€ä¹ˆå®ç°</a></li><li><a href="#ç›¸å…³æ³¨æ„äº‹é¡¹" class="table-of-contents__link toc-highlight">ç›¸å…³æ³¨æ„äº‹é¡¹</a></li><li><a href="#å¸¸è§çš„åºåˆ—åŒ–åè®®æœ‰å“ªäº›" class="table-of-contents__link toc-highlight">å¸¸è§çš„åºåˆ—åŒ–åè®®æœ‰å“ªäº›</a></li></ul></li><li><a href="#5åŒæ­¥å’Œå¼‚æ­¥" class="table-of-contents__link toc-highlight">5ã€åŒæ­¥å’Œå¼‚æ­¥</a></li><li><a href="#6javaä¸­çš„niobioaioåˆ†åˆ«æ˜¯ä»€ä¹ˆ" class="table-of-contents__link toc-highlight">6ã€Javaä¸­çš„NIOï¼ŒBIOï¼ŒAIOåˆ†åˆ«æ˜¯ä»€ä¹ˆ</a><ul><li><a href="#bio" class="table-of-contents__link toc-highlight">BIO</a></li><li><a href="#nio" class="table-of-contents__link toc-highlight">NIO</a></li><li><a href="#aio-nio2" class="table-of-contents__link toc-highlight">AIO (NIO.2)</a></li><li><a href="#æ€»ç»“" class="table-of-contents__link toc-highlight">æ€»ç»“</a></li></ul></li><li><a href="#7bionioaioåŒºåˆ«" class="table-of-contents__link toc-highlight">7ã€BIOï¼ŒNIOï¼ŒAIOåŒºåˆ«</a></li><li><a href="#8stocké€šä¿¡çš„ä¼ªä»£ç å®ç°æµç¨‹" class="table-of-contents__link toc-highlight">8ã€Stocké€šä¿¡çš„ä¼ªä»£ç å®ç°æµç¨‹</a></li><li><a href="#9ç½‘ç»œæ“ä½œ" class="table-of-contents__link toc-highlight">9ã€ç½‘ç»œæ“ä½œ</a><ul><li><a href="#inetaddress" class="table-of-contents__link toc-highlight">InetAddress</a></li><li><a href="#url" class="table-of-contents__link toc-highlight">URL</a></li><li><a href="#sockets" class="table-of-contents__link toc-highlight">Sockets</a></li><li><a href="#datagram" class="table-of-contents__link toc-highlight">Datagram</a></li><li><a href="#ä»€ä¹ˆæ˜¯socket" class="table-of-contents__link toc-highlight">ä»€ä¹ˆæ˜¯Socketï¼Ÿ</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 æŠ€æœ¯å°åŒ  Â· çŸ¥è¯†ç¬”è®°</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e2aeedd7.js"></script>
<script src="/assets/js/main.12dfe6bc.js"></script>
</body>
</html>